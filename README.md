# e-Banking System

## Introduction

This project is a simulation of e-Banking system that allows users to create accounts, add friends, add funds, open accounts in different currencies, exchange currencies, transfer money, buy stocks and recommend stocks  based pm Simple Moving Averages (SMA).

The project main focus was to implement **design patterns** and **design principles** in the codebase. Also, the bonus feature of **premium option** required to create a test.

## Features


| Name of the Command                                                                                                                    | Command                                                                  | Result                                                                                                                                                                                                                      | Erros                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Create an user                                                                                                                         | CREATE USER `<email> <firstname> <lastname> <address>`                   | *Won't display anything to the terminal*.                                                                                                                                                                                   | The e-mail address needs to be **unique**. If a user is created with an existing email address, the error will be displayed: `User with <email> already exists`.                                                                                                                                                                                                                                                 |
| Add a friend                                                                                                                           | ADD FRIEND  `<emailUser> <emailFriend>`                                  | *Won't display anything to the terminal*.                                                                                                                                                                                   | If the *user* or the *user to be added* as a friend **does not exist**, the error will be displayed: `User with <emailUser> doesn’t exist`. If the user has **already been added** as a friend, the error will be displayed: `User with <emailFriend> is already a friend`.                                                                                                                                      |
| Add an account                                                                                                                         | ADD ACCOUNT `<email> <currency>`                                         | *Won't display anything to the terminal*.                                                                                                                                                                                   | If an account with the **same currency already exists**, the error will be displayed: `Account in currency <currency> already exists for user`.                                                                                                                                                                                                                                                                  |
| Add funds                                                                                                                              | ADD MONEY `<email> <currency> <amount>`                                  | *Won't display anything to the terminal*.                                                                                                                                                                                   | The funds will always be added successfully (the amount is a positive value, the user exists in the system, and the currency type is supported).                                                                                                                                                                                                                                                                 |
| Exchange currencies                                                                                                                    | EXCHANGE MONEY `<email> <sourceCurrency> <destinationCurrency> <amount>` | *Won't display anything to the terminal*.                                                                                                                                                                                   | If there are **not enough funds** in the account with `<sourceCurrency>` to make the exchange, the error will be displayed: `Insufficient amount in account <sourceCurrency> for exchange`. If the amount **transferred exceeds 50%** of the current value of the source account, a **1% fee** will be applied to the transfer (for the source account from which the money is being transferred).               |
| Transfer money to a friend                                                                                                             | TRANSFER MONEY `<email> <friendEmail> <currency> <amount>`               | *Won't display anything to the terminal*.                                                                                                                                                                                   | If there are **not enough funds** in the account with `<currency>` to make the transfer, the error will be displayed: `Insufficient amount in account <currency> for transfer`. If the user with `<email>` is **not friends** with `<friendEmail>`, the error will be displayed: `You are not allowed to transfer money to <emailFriend>`.                                                                       |
| Buy stocks                                                                                                                             | BUY STOCKS `<email> <company> <noOfStocks>`                              | *Won't display anything to the terminal*.                                                                                                                                                                                   | If there are **not enough funds** in the account with `<currency>` to buy the stocks, the error will be displayed: `Insufficient amount in account for buying stocks`.                                                                                                                                                                                                                                           |
| Get recommendation regarding stocks                                                                                                    | RECOMMEND STOCKS                                                         | { <br> “stocksToBuy”: [ <br> “AAPL”, <br> “TSLA” <br> ] <br> }                                                                                                                                                              | The recommendation algorithm will be based on a simplified version of the *Simple Moving Averages (SMAs) Crossover Strategy*. <br> - Calculate the short-term SMA (last 5 days). <br> - Calculate the long-term SMA (last 10 days). <br> - If the short-term average is higher than the long-term average, the stock is added to the recommendation list. To obtain the values, use the file `stocksValues.csv.` |
| List user attributes                                                                                                                   | LIST USER `<email>`                                                      | { <br> “email”: “john.doe@email.com”, <br> “firstname”: “John”, <br> “lastname”: “Doe”, <br> “address”: “8 Rocky River Road Auburn, NY 13021”, <br> “friends”: [ <br> “lili@email.com”, <br> “mike@email.com” <br> ] <br> } | If the *user* doesn't exist, the error will be displayed: `User with <emailUser> doesn't exist`.                                                                                                                                                                                                                                                                                                                 |
| List portfolio                                                                                                                         | LIST PORTFOLIO `<email>`                                                 | "stocks":[ <br> { <br> "stockName":"TSLA", <br> "amount":20 <br> } <br> ], <br> "accounts":[ <br> { <br> "currencyName":"USD", <br> "amount":"200.10" <br>} <br> ] <br> }                                                   | If the *user* doesn't exist, the error will be displayed: `User with <emailUser> doesn't exist`.                                                                                                                                                                                                                                                                                                                 |
| Buy *PREMIUM OPTION* <br><br> * A fee of 100 USD will be charged for the premium option as a one-time payment at the time of purchase. | BUY PREMIUM `<email>`                                                    | *Won't display anything to the terminal*.                                                                                                                                                                                   | If the *user* doesn't exist, the error will be displayed: `User with <email> doesn’t exist`. If there are **not enough funds in the USD account** to purchase the premium option, the error will be displayed: `Insufficient amount in account for buying premium option`.                                                                                                                                       |

- If a user has purchased the `premium option`, they will have the following advantages:
   - There will **no longer be a fee** for currency exchange (a normal account incurs a 1% fee if the exchanged amount exceeds half of the value of the source account).
   - Users will benefit from **preferential prices** when buying stocks. Thus, for stocks recommended by the eBanking application, a 5% discount will be applied to the purchase price.

## Design Patterns and Principles

### Design Patterns
- **Decorator Pattern**:
    - Used in `Account.java` where `BasicAccount` and its subclasses (`USDAccount`, `EURAccount`, etc.) implement the `Account` interface.



- **Command Pattern**:
    - Implemented in `Command.java` with the `Command` interface and its concrete implementations (`UserCommand`, `AccountCommand`, `StockCommand`).


- **Singleton Pattern**:
    - Used in `Users.java` to ensure only one instance of the `Users` class exists.


- **Strategy Pattern**:
    - Implemented in `Stocks.java` with the `Stocks` interface and its concrete implementations (`BuyStock`, `RecommendStock`).

### SOLID Principles

- **Single Responsibility Principle (SRP)**:
    - Each class has a single responsibility, such as `Users` for managing user data, `Portofolio` for managing accounts and stocks, and `ExchangeRates` for handling exchange rates.

- **Open/Closed Principle (OCP)**:
    - Classes like `Account` and `Command` are open for extension but closed for modification. New account types or commands can be added without modifying existing code.

- **Interface Segregation Principle (ISP)**:
    - The `Account` interface ensures that classes implementing it only need to provide relevant methods.

- **Dependency Inversion Principle (DIP)**:
    - High-level modules (`Main.java`) depend on abstractions (`Command`, `Account`) rather than concrete implementations.

